montageDefine("0e99770","ui/moviestrip.reel/image.reel/image",{dependencies:["montage/ui/component","montage/core/promise"],factory:function(e,t,n){var a=e("montage/ui/component").Component,r=e("montage/core/promise").Promise;t.Image=a.specialize({_src:{value:null},_label:{value:null},src:{set:function(e){e!==this._src&&(this._src=e,this.needsDraw=!0)}},label:{set:function(e){e!==this._label&&(this._label=e,this.needsDraw=!0)}},_loadImage:{value:function(){var e={};return function(t){if(!e.hasOwnProperty(t)){var n=r.defer(),a=new Image;a.onload=function(){n.resolve(t)},a.onerror=function(){n.reject(t)},a.src=t,e[t]=n.promise}return e[t]}}()},draw:{value:function(){var e=this,t=e._element;t.setAttribute("title",e._label),t.setAttribute("alt",e._label),e._src?(t.style.backgroundImage="url(assets/image/loading-poster.gif)",t.style.backgroundSize="auto",e._loadImage(e._src).then(function(){t.style.backgroundImage="url("+e._src+")"})["catch"](function(){t.style.backgroundImage="url(assets/image/no-poster.jpg)"})["finally"](function(){t.style.backgroundSize=""})):t.style.backgroundImage="url(assets/image/no-poster.jpg)"}}})}});