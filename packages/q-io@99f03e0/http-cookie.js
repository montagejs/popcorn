var QS=require("qs");exports.parse=function(e,t){t=t||new Date;var n={},o=e.split(/[;,]/g),i=o.shift().split("=");return n.key=decodeURIComponent(i[0]),n.value=decodeURIComponent(i[1]),o.forEach(function(e){var o=e.split("=").map(function(e){return e.trim()}),i=o[0],r=o[1];/^domain$/i.test(i)?n.domain=r:/^path$/i.test(i)?n.path=r:/^expires$/i.test(i)?n.expires=new Date(+new Date+(new Date(r)-t)):/^max-age$/i.test(i)?n.expires=new Date((new Date).getTime()+1e3*r):/^secure$/i.test(i)?n.secure=!0:/^httponly$/i.test(i)&&(n.httpOnly=!0)}),n},exports.stringify=function(e,t,n){var o=encodeURIComponent(e)+"="+encodeURIComponent(t);return n&&(n.domain&&(o+="; Domain="+encodeURIComponent(n.domain)),n.path&&(o+="; Path="+encodeURIComponent(n.path)),n.expires&&(o+="; Expires="+n.expires.toGMTString()),n.secure&&(o+="; Secure"),n.httpOnly&&(o+="; HttpOnly")),o};