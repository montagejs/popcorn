var Q=require("q"),FS=require("./fs");FS.listTree(".coverage_data",function(e,o){return/^\.coverage_data\/coveragefile/.test(e)}).then(function(e){return Q.all(e.map(function(e){return FS.read(e).then(function(e){return JSON.parse(e)}).then(function(e){console.log("<table>"),console.log("    <thead>"),console.log("        <tr>"),console.log("            <th>File</th>"),console.log("            <th>Percentage</th>"),console.log("            <th>Missing</th>"),console.log("        </tr>"),console.log("    </thead>"),console.log("    <tbody>"),Object.keys(e.files).forEach(function(o){var t=e.files[o];o=FS.relativeFromDirectory(__dirname,o),/^spec/.test(o)||(console.log("        <tr>"),console.log("            <td><code>"+o+"</code></td>"),console.log("            <td>"+(100*t.stats.percentage).toFixed(0)+"%</td>"),console.log("            <td>"+t.stats.missing+"</td>"),console.log("        </tr>"))}),console.log("    </tbody>"),console.log("</table>")},function(o){throw o.message="Can't parse "+e+" because "+o.message,o})}))}).done();