var fs=require("fs"),path=require("path"),assert=require("assert"),runCount=0,testCount=0,done=!1;["./01-events.js","./02-stream.js","./03-feed.js"].map(require).forEach(function(e){console.log("\nStarting",e.dir,"\n----");var t=path.resolve(__dirname,e.dir);fs.readdirSync(t).filter(RegExp.prototype.test,/^[^\._]/).map(function(e){return path.resolve(t,e)}).map(require).forEach(function(t){runCount++,console.log("Testing:",t.name);var r=!1;e.test(t,function(e,n){assert.ifError(e),assert.deepEqual(t.expected,n,"didn't get expected output"),r?(testCount++,!--runCount&&done&&console.log("Total tests:",testCount)):r=!0})})});var done=!0;