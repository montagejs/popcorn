function ChangeListenersRecord(e){var t=ChangeListenerSpecificHandlerMethodName.get(e);return t||(t="handle",t+=e,t+="Change",ChangeListenerSpecificHandlerMethodName.set(e,t)),this._current=null,this._current=null,this.specificHandlerMethodName=t,this}function WillChangeListenersRecord(e){var t=WillChangeListenerSpecificHandlerMethodName.get(e);return t||(t="handle",t+=e,t+="WillChange",WillChangeListenerSpecificHandlerMethodName.set(e,t)),this.specificHandlerMethodName=t,this}var Map=require("../_map"),ObjectChangeDescriptor=module.exports.ObjectChangeDescriptor=function(e){return this.name=e,this.isActive=!1,this._willChangeListeners=null,this._changeListeners=null,this};Object.defineProperties(ObjectChangeDescriptor.prototype,{name:{value:null,writable:!0},isActive:{value:!1,writable:!0},_willChangeListeners:{value:null,writable:!0},willChangeListeners:{get:function(){return this._willChangeListeners||(this._willChangeListeners=new this.willChangeListenersRecordConstructor(this.name))}},_changeListeners:{value:null,writable:!0},changeListeners:{get:function(){return this._changeListeners||(this._changeListeners=new this.changeListenersRecordConstructor(this.name))}},changeListenersRecordConstructor:{value:ChangeListenersRecord,writable:!0},willChangeListenersRecordConstructor:{value:WillChangeListenersRecord,writable:!0}});var ListenerGhost=module.exports.ListenerGhost=Object.create(null),ChangeListenerSpecificHandlerMethodName=new Map;module.exports.ChangeListenersRecord=ChangeListenersRecord,Object.defineProperties(ChangeListenersRecord.prototype,{_current:{value:null,writable:!0},current:{get:function(){return this._current},set:function(e){this._current=e}},ListenerGhost:{value:ListenerGhost,writable:!0},ghostCount:{value:0,writable:!0},maxListenerGhostRatio:{value:.3,writable:!0},listenerGhostFilter:{value:function(e){return e!==this.ListenerGhost}},removeCurrentGostListenersIfNeeded:{value:function(){return this._current&&this.ghostCount/this._current.length>this.maxListenerGhostRatio&&(this.ghostCount=0,this._current=this._current.filter(this.listenerGhostFilter,this)),this._current}},dispatchBeforeChange:{value:!1,writable:!0},genericHandlerMethodName:{value:"handlePropertyChange",writable:!0}}),module.exports.WillChangeListenersRecord=WillChangeListenersRecord;var WillChangeListenerSpecificHandlerMethodName=new Map;WillChangeListenersRecord.prototype=new ChangeListenersRecord,WillChangeListenersRecord.prototype.constructor=WillChangeListenersRecord,WillChangeListenersRecord.prototype.genericHandlerMethodName="handlePropertyWillChange";