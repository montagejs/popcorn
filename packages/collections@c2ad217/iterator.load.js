montageDefine("c2ad217","iterator",{dependencies:["./shim-object","./generic-collection"],factory:function(t,e,r){"use strict";function o(t,e){var r=e&&t&&t.values&&t.values();if(r&&"function"==typeof r.next)return r;if(!(this instanceof o))return new o(t);if(Array.isArray(t)||"string"==typeof t)return o.iterate(t);if(t=n(t),t instanceof o)return t;if(t.next)this.next=function(){return t.next()};else if(t.iterate){var i=t.iterate();this.next=function(){return i.next()}}else{if("[object Function]"!==n.prototype.toString.call(t))throw new TypeError("Can't iterate "+t);this.next=t}}r.exports=o;var n=t("./shim-object"),i=t("./generic-collection");o.prototype.forEach=i.prototype.forEach,o.prototype.map=i.prototype.map,o.prototype.filter=i.prototype.filter,o.prototype.every=i.prototype.every,o.prototype.some=i.prototype.some,o.prototype.any=i.prototype.any,o.prototype.all=i.prototype.all,o.prototype.min=i.prototype.min,o.prototype.max=i.prototype.max,o.prototype.sum=i.prototype.sum,o.prototype.average=i.prototype.average,o.prototype.flatten=i.prototype.flatten,o.prototype.zip=i.prototype.zip,o.prototype.enumerate=i.prototype.enumerate,o.prototype.sorted=i.prototype.sorted,o.prototype.group=i.prototype.group,o.prototype.reversed=i.prototype.reversed,o.prototype.toArray=i.prototype.toArray,o.prototype.toObject=i.prototype.toObject,o.prototype.iterator=i.prototype.iterator,o.prototype.__iterationObject=null,n.defineProperty(o.prototype,"_iterationObject",{get:function(){return this.__iterationObject||(this.__iterationObject={done:!1,value:void 0})}}),o.prototype.constructClone=function(t){var e=[];return e.addEach(t),e},o.prototype.mapIterator=function(t){var e=o(this),r=arguments[1],i=0;if("[object Function]"!=n.prototype.toString.call(t))throw new TypeError;return new e.constructor(function(){if(e._iterationObject.done!==!0){var o=t.call(r,e.next().value,i++,e);e._iterationObject.value=o}return e._iterationObject})},o.prototype.filterIterator=function(t){var e=o(this),r=arguments[1],i=0;if("[object Function]"!=n.prototype.toString.call(t))throw new TypeError;return new e.constructor(function(){for(var o;;){if(o=e.next(),o.done===!0)return o;if(t.call(r,o.value,i++,e))return o}})},o.prototype.reduce=function(t){var e,r=o(this),i=arguments[1],a=arguments[2],p=0;if("[object Function]"!=n.prototype.toString.call(t))throw new TypeError;if(e=r.next(),e.done===!0){if(arguments.length>1)return arguments[1];throw TypeError("cannot reduce a value from an empty iterator with no initial value")}for(i=arguments.length>1?t.call(a,i,e.value,p,r):e.value,p++;;){if(e=r.next(),e.done===!0)return i;i=t.call(a,i,e.value,p,r),p++}},o.prototype.concat=function(){return o.concat(Array.prototype.concat.apply(this,arguments))},o.prototype.dropWhile=function(t){var e,r,i=o(this),a=arguments[1],p=!1,c=0;if("[object Function]"!=n.prototype.toString.call(t))throw new TypeError;for(;;){if(r=i.next(),r.done===!0)break;if(!t.call(a,r.value,c,i)){p=!0,e=r.value;break}c++}return p?i.constructor([e]).concat(i):i.constructor([])},o.prototype.takeWhile=function(t){var e=o(this),r=arguments[1],i=0;if("[object Function]"!=n.prototype.toString.call(t))throw new TypeError;return new e.constructor(function(){if(e._iterationObject.done!==!0){var o=e.next().value;t.call(r,o,i++,e)?e._iterationObject.value=o:(e._iterationObject.done=!0,e._iterationObject.value=void 0)}return e._iterationObject})},o.prototype.zipIterator=function(){return o.unzip(Array.prototype.concat.apply(this,arguments))},o.prototype.enumerateIterator=function(t){return o.count(t).zipIterator(this)},o.iterate=function(t){var e;return e=0,new o(function(){if("object"==typeof t)for(;!(e in t);){if(e>=t.length){this._iterationObject.done=!0,this._iterationObject.value=void 0;break}e+=1}else e>=t.length&&(this._iterationObject.done=!0,this._iterationObject.value=void 0);return this._iterationObject.done||(this._iterationObject.value=t[e],e+=1),this._iterationObject})},o.cycle=function(t,e){var r;return arguments.length<2&&(e=1/0),new o(function(){var n,i;return r&&(i=r()),r&&i.done!==!0||(e>0?(e--,n=o.iterate(t),i=(r=n.next.bind(n))()):(this._iterationObject.done=!0,i=this._iterationObject)),i})},o.concat=function(t){t=o(t);var e;return new o(function(){var r,n;return e&&(n=e()),n&&n.done!==!0?n:(n=t.next(),n.done===!1?(r=o(n.value),(e=r.next.bind(r))()):n)})},o.unzip=function(t){return t=o(t).map(o),new o(0===t.length?[]:function(){var e,r,o=t.map(function(t){return r=t.next(),r.done===!0&&(e=!0),r.value});return e?(this._iterationObject.done=!0,this._iterationObject.value=void 0):this._iterationObject.value=o,this._iterationObject})},o.zip=function(){return o.unzip(Array.prototype.slice.call(arguments))},o.chain=function(){return o.concat(Array.prototype.slice.call(arguments))},o.range=function(t,e,r){return arguments.length<3&&(r=1),arguments.length<2&&(e=t,t=0),t=t||0,r=r||1,new o(function(){t>=e&&(this._iterationObject.done=!0,this._iterationObject.value=void 0);var o=t;return t+=r,this._iterationObject.value=o,this._iterationObject})},o.count=function(t,e){return o.range(t,1/0,e)},o.repeat=function(t,e){return new o.range(e).mapIterator(function(){return t})}}});