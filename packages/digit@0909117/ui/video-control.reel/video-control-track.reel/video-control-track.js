var AbstractSlider=require("montage/ui/base/abstract-slider").AbstractSlider,AbstractProgressBar=require("montage/ui/base/abstract-progress-bar").AbstractProgressBar,Component=require("montage/ui/component").Component;exports.VideoControlTrack=Component.specialize({constructor:{value:function(){this["super"](),this.defineBinding("max",{"<-":"videoController.duration"}),this.defineBinding("time",{"<-":"videoController.position"})}},time:{value:0},slider:{value:null},videoController:{value:null},_wasPlaying:{value:!1},sliderTranslateStart:{value:function(e){this.videoController.status===this.videoController.PLAYING?(this._wasPlaying=!0,this.videoController.pause()):this._wasPlaying=!1}},sliderTranslateEnd:{value:function(e){this._wasPlaying&&this.videoController.unpause()}}}),exports.Slider=AbstractSlider.specialize({constructor:{value:function(){this["super"](),this.defineBinding("max",{"<-":"controller.max"}),this.defineBinding("value",{"<->":".controller.videoController.position",source:this})}},hasTemplate:{value:!1},controller:{value:!1},handleThumbTranslateStart:{value:function(e){AbstractSlider.handleThumbTranslateStart.apply(this,arguments),this.controller&&"function"==typeof this.controller.sliderTranslateStart&&this.controller.sliderTranslateStart.apply(this.controller,arguments)}},handleThumbTranslateEnd:{value:function(e){AbstractSlider.handleThumbTranslateEnd.apply(this,arguments),this.controller&&"function"==typeof this.controller.sliderTranslateEnd&&this.controller.sliderTranslateEnd.apply(this.controller,arguments)}}});var ProgressBar=exports.ProgressBar=AbstractProgressBar.specialize({constructor:{value:function(){this["super"](),this.defineBinding("max",{"<-":"controller.max"}),this.defineBinding("value",{"<-":"controller.time"})}},_max:{value:100},max:{set:function(e){if(!isNaN(e)){var t=+e;this._max!==t&&(this._max=t,this.needsDraw=!0)}},get:function(){return this._max}},_value:{value:0},value:{set:function(e){if(!isNaN(e)){var t=+e;this._value!==t&&(this._value=t>this._max?this._max:t<0?0:t,this.needsDraw=!0)}},get:function(){return this._value}},controller:{value:!1},hasTemplate:{value:!1},_progressBarValueElement:{value:null},draw:{value:function(){this._progressBarValueElement.style.left=this.max>0?-(100-100*this._value/this.max)+"%":"-100%"}}});