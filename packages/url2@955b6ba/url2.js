function parse(e){var t=URL.parse(e);return t.pathname=t.pathname||"",t.root=!!t.pathname.length&&"/"===t.pathname[0],t.root?t.relative=t.pathname.slice(1):t.relative=t.pathname,t.relative.length?(t.directories=t.relative.split("/"),t.file=t.directories.pop()):(t.directories=[],t.file=null),t}function format(e){if("file"in e&&(e.directories.push(e.file),delete e.file),"directories"in e&&(e.relative=e.directories.join("/"),delete e.directories),"relative"in e&&(e.root?e.pathname="/"+e.relative:e.pathname=e.relative,delete e.relative),null!=e.path){var t=e.path.indexOf("?");t==-1?(e.pathname=e.path,e.search=""):(e.pathname=e.path.slice(0,t),e.search=e.path.slice(t))}return URL.format(e)}function relativeObject(e,t){if(e=parse(e),t=parse(t),delete t.href,t.protocol===e.protocol&&t.slashes===e.slashes&&t.auth===e.auth&&t.host===e.host&&(delete t.protocol,delete t.slashes,delete t.auth,delete t.hostname,delete t.port,delete t.host,!!t.root==!!e.root&&(!t.root||t.directories[0]==e.directories[0]))){for(delete t.path,delete t.root;e.directories.length&&t.directories.length&&t.directories[0]==e.directories[0];)t.directories.shift(),e.directories.shift();for(;e.directories.length;)e.directories.shift(),t.directories.unshift("..");t.root||t.directories.length||t.file||!e.file||t.directories.push("."),0===t.directories.length&&null===t.file&&e.search&&(t.search=e.search)}return t}function relative(e,t){return format(relativeObject(e,t))}var URL=require("url");exports.resolve=URL.resolve,exports.resolveObject=URL.resolveObject,exports.parse=parse,exports.format=format,exports.relativeObject=relativeObject,exports.relative=relative;