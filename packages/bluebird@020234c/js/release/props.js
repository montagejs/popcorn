"use strict";module.exports=function(t,e,r,n){function i(t){var e,r=!1;if(void 0!==s&&t instanceof s)e=f(t),r=!0;else{var n=p.keys(t),i=n.length;e=new Array(2*i);for(var o=0;o<i;++o){var u=n[o];e[o]=t[u],e[o+i]=u}}this.constructor$(e),this._isMap=r,this._init$(void 0,r?-6:-3)}function o(e){var o,s=r(e);return a(s)?(o=s instanceof t?s._then(t.props,void 0,void 0,void 0,void 0):new i(s).promise(),s instanceof t&&o._propagateFrom(s,2),o):n("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,u=require("./util"),a=u.isObject,p=require("./es5");"function"==typeof Map&&(s=Map);var f=function(){function t(t,n){this[e]=t,this[e+r]=n,e++}var e=0,r=0;return function(n){r=n.size,e=0;var i=new Array(2*n.size);return n.forEach(t,i),i}}(),h=function(t){for(var e=new s,r=t.length/2|0,n=0;n<r;++n){var i=t[r+n],o=t[n];e.set(i,o)}return e};u.inherits(i,e),i.prototype._init=function(){},i.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var r=++this._totalResolved;if(r>=this._length){var n;if(this._isMap)n=h(this._values);else{n={};for(var i=this.length(),o=0,s=this.length();o<s;++o)n[this._values[o+i]]=this._values[o]}return this._resolve(n),!0}return!1},i.prototype.shouldCopyValues=function(){return!1},i.prototype.getActualLength=function(t){return t>>1},t.prototype.props=function(){return o(this)},t.props=function(t){return o(t)}};