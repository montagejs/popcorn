montageDefine("020234c","js/release/context",{dependencies:[],factory:function(t,e,o){"use strict";o.exports=function(t){function e(){this._trace=new e.CapturedTrace(p())}function o(){if(n)return new e}function p(){var t=r.length-1;if(t>=0)return r[t]}var n=!1,r=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,r.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=r.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=o,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var o=t.prototype._pushContext,r=t.prototype._popContext,i=t._peekContext,a=t.prototype._peekContext,c=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=o,t.prototype._popContext=r,t._peekContext=i,t.prototype._peekContext=a,t.prototype._promiseCreated=c,n=!1},n=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=p,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}}});