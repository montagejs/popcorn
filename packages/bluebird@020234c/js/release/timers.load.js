montageDefine("020234c","js/release/timers",{dependencies:["./util"],factory:function(e,t,n){"use strict";n.exports=function(t,n,i){function o(e){this.handle=e}function r(e){return clearTimeout(this.handle),e}function a(e){throw clearTimeout(this.handle),e}var c=e("./util"),u=t.TimeoutError;o.prototype._resultCancelled=function(){clearTimeout(this.handle)};var l=function(e){return s(+this).thenReturn(e)},s=t.delay=function(e,r){var a,c;return void 0!==r?(a=t.resolve(r)._then(l,null,null,e,void 0),i.cancellation()&&r instanceof t&&a._setOnCancel(r)):(a=new t(n),c=setTimeout(function(){a._fulfill()},+e),i.cancellation()&&a._setOnCancel(new o(c)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};t.prototype.delay=function(e){return s(e,this)};var f=function(e,t,n){var i;i="string"!=typeof t?t instanceof Error?t:new u("operation timed out"):new u(t),c.markAsOriginatingFromRejection(i),e._attachExtraTrace(i),e._reject(i),null!=n&&n.cancel()};t.prototype.timeout=function(e,t){e=+e;var n,c,u=new o(setTimeout(function(){n.isPending()&&f(n,t,c)},e));return i.cancellation()?(c=this.then(),n=c._then(r,a,void 0,u,void 0),n._setOnCancel(u)):n=this._then(r,a,void 0,u,void 0),n}}}});