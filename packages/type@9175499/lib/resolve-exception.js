"use strict";var isValue=require("../value/is"),isObject=require("../object/is"),stringCoerce=require("../string/coerce"),toShortString=require("./to-short-string"),resolveMessage=function(e,r){return e.replace("%v",toShortString(r))};module.exports=function(e,r,t){if(!isObject(t))throw new TypeError(resolveMessage(r,e));if(!isValue(e)){if("default"in t)return t["default"];if(t.isOptional)return null}var i=stringCoerce(t.errorMessage);throw isValue(i)||(i=r),new TypeError(resolveMessage(i,e))};