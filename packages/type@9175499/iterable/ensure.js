"use strict";var resolveException=require("../lib/resolve-exception"),isValue=require("../value/is"),is=require("./is"),resolveCoercedValue=function(e,r){for(var o,t=[],i=e[Symbol.iterator]();!(o=i.next()).done;){var u=r(o.value);if(!isValue(u))throw new Error("Stop propagation");t.push(u)}return t};module.exports=function(e){var r=arguments[1];if(is(e,r)){if(!r)return e;if("function"!=typeof r.coerceItem)return e;try{return resolveCoercedValue(e,r.coerceItem)}catch(o){}}return resolveException(e,"%v is not expected iterable value",r)};