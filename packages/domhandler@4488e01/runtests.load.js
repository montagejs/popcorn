montageDefine("4488e01","runtests",{dependencies:["fs","path","assert","htmlparser2","./"],factory:function(e,t,n){function r(e,t){if(a.equal(typeof e,typeof t,"types didn't match"),"object"!=typeof e||null===e)a.strictEqual(e,t,"result doesn't equal expected");else for(var n in e)a.ok(n in t,"result didn't contain property "+n),r(e[n],t[n])}var s=e("fs"),o=e("path"),a=e("assert"),p=e("htmlparser2").Parser,i=e("./"),l=o.resolve(__dirname,"tests"),f=5;s.readdirSync(l).filter(RegExp.prototype.test,/\.json$/).map(function(e){return o.resolve(l,e)}).map(e).forEach(function(e){console.log("Testing:",e.name);for(var t=new i(function(t,n){a.ifError(t),r(e.expected,n)},e.options.handler),n=e.html,s=new p(t,e.options.parser),o=0;o<n.length;o+=f)s.write(n.substring(o,o+f));s.done(),s.parseComplete(n)}),console.log("\nAll tests passed!")}});