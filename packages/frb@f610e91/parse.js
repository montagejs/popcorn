function parse(e,r){var a;if(Array.isArray(e))return{type:"tuple",args:e.map(function(e){return parse(e,r)})};if(!r&&(a=memo.get(e)))return a;try{var m=grammar.parse(e,r||Object.empty);return r||memo.set(e,m),m}catch(t){throw t.message=t.message.replace(/[\s\.]+$/,"")+"  on line "+t.line+" column "+t.column,t}}require("collections/shim");var grammar=require("./grammar"),Map=require("collections/map"),memo=new Map;module.exports=parse;