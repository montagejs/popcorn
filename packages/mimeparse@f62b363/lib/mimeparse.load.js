montageDefine("f62b363","lib/mimeparse",{dependencies:[],factory:function(e,r,n){function t(e){for(var n=[],t=e.split(","),a=0;a<t.length;a++)n.push(r.parseMediaRange(t[a]));return n}r.parseMimeType=function(e){for(var r,n,t={},a=e.split(";"),i=0;i<a.length;i++){var s=a[i].split("=");2===s.length&&(t[s[0].trim()]=s[1].trim())}return r=a[0].replace(/^\s+/,"").replace(/\s+$/,""),"*"===r&&(r="*/*"),n=r.split("/"),[n[0],n[1],t]},r.parseMediaRange=function(e){var n,t=r.parseMimeType(e);return t[2].q?(n=parseFloat(t[2].q),isNaN(n)?t[2].q="1":(n>1||n<0)&&(t[2].q="1")):t[2].q="1",t},r.fitnessAndQualityParsed=function(e,n){for(var t=-1,a=0,i=r.parseMediaRange(e),s=i[0],u=i[1],l=i[2],f=0;f<n.length;f++){var p=n[f],o=p[0],c=p[1],d=p[2];if(!(o!==s&&"*"!==o&&"*"!==s||c!==u&&"*"!==c&&"*"!==u)){var g=0;for(var h in l)"q"!==h&&d[h]&&d[h]===l[h]&&(g+=1);var q=o===s?100:0;q+=c===u?10:0,q+=g,q>t&&(t=q,a=d.q)}}return[t,parseFloat(a)]},r.qualityParsed=function(e,n){return r.fitnessAndQualityParsed(e,n)[1]},r.quality=function(e,n){return r.qualityParsed(e,t(n))},r.bestMatch=function(e,n){for(var a=t(n),i=[],s=0;s<e.length;s++)i.push([r.fitnessAndQualityParsed(e[s],a),e[s]]);return i.sort(),i[i.length-1][0][1]?i[i.length-1][1]:""}}});