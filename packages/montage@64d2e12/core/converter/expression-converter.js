var Converter=require("./converter").Converter,parse=require("frb/parse"),Scope=require("frb/scope"),compile=require("frb/compile-evaluator");exports.ExpressionConverter=Converter.specialize({_convertExpression:{value:null},convertExpression:{get:function(){return this._convertExpression},set:function(e){e!==this._convertExpression&&(this._convertExpression=e,this.__compiledConvertExpression=void 0)}},__compiledConvertExpression:{value:void 0},_compiledConvertExpression:{get:function(){return this.__compiledConvertExpression||(this.__compiledConvertExpression=compile(parse(this.convertExpression)))}},_revertExpression:{value:"service.dataIdentifierForObject($).primaryKey"},revertExpression:{get:function(){return this._revertExpression},set:function(e){e!==this._revertExpression&&(this._revertExpression=e,this._revertSyntax=void 0,this.__compiledRevertExpression=void 0)}},__compiledRevertExpression:{value:void 0},_compiledRevertExpression:{get:function(){return this.__compiledRevertExpression||(this.__compiledRevertExpression=compile(parse(this.revertExpression)))}},__scope:{value:null},_scope:{get:function(){return this.__scope||(this.__scope=new Scope)}},convert:{value:function(e){return this._scope.value=e,this._compiledConvertExpression(this._scope)}},revert:{value:function(e){return this._scope.value=e,this._compiledRevertExpression(this._scope)}}});