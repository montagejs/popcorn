montageDefine("64d2e12","core/meta/object-property",{dependencies:["../core","../exception","./model","../deprecate","../logger"],factory:function(e,r,t){var o=e("../core").Montage,i=e("../exception").Exception,a=e("./model").Model,n=e("../deprecate"),l=e("../logger").logger("object-property");r.ObjectProperty=o.specialize({init:{serializable:!1,enumerable:!1,value:function(){return this}},apply:{value:function(e,r){var t;e.hasOwnProperty("objectDescriptor")||(t=o.getInfoForObject(e),null!==t&&t.isInstance===!1&&(void 0===r?r=a.group.objectDescriptorForPrototype(t.objectName,t.moduleId):r.prototypeName===t.objectName&&r.moduleId===t.moduleId||(r=null),this.applyWithObjectDescriptor(e,r)))}},applyWithBlueprint:{value:n.deprecateMethod(void 0,function(e,r){return this.applyWithObjectDescriptor(e,r)},"applyWithBlueprint","applyWithObjectDescriptor")},applyWithObjectDescriptor:{value:function(e,r){null!==r&&(this.addProperties(e,r),null!==r.parent&&this.apply(Object.getPrototypeOf(e),r))}},addProperties:{value:function(e,r){for(var t,i=0;t=r.propertyDescriptors[i++];)t.isDerived?this.addDerivedProperty(e,t):t.isAssociation?this.addAssociation(e,t):this.addProperty(e,t);o.defineProperty(e,"blueprint",{enumerable:!1,serializable:!1,get:function(){return this._objectDescriptor}}),o.defineProperty(e,"_objectDescriptor",{serializable:!1,enumerable:!1,value:r}),o.defineProperty(e,"objectDescriptor",{enumerable:!1,serializable:!1,get:function(){return this._objectDescriptor}}),o.defineProperty(e,"blueprintGet",{serializable:!1,enumerable:!1,value:this.objectDescriptorGet}),o.defineProperty(e,"blueprintSet",{serializable:!1,enumerable:!1,value:this.objectDescriptorSet}),o.defineProperty(e,"objectDescriptorGet",{serializable:!1,enumerable:!1,value:this.objectDescriptorGet}),o.defineProperty(e,"objectDescriptorSet",{serializable:!1,enumerable:!1,value:this.objectDescriptorSet})}},addProperty:{value:function(e,r){this.addPropertyStorage(e,r),this.addPropertyDefinition(e,r),this.addPropertyStoredValue(e,r)}},addPropertyStorage:{value:function(e,r){var t="_"+r.name,i="_"+t,a=null;e.hasOwnProperty(t)?l.isError&&l.error("We have an issue here. The developer should not override the storage value for "+t+"."):(r.isToMany?(o.defineProperty(e,i,{value:null,enumerable:!1,serializable:!1}),a={get:function(){return this[i]||(this[i]=[])},enumerable:!1,serializable:!0}):a={value:null,enumerable:!1,serializable:!0},o.defineProperty(e,t,a))}},addPropertyDefinition:{value:function(e,r){var t=r.name,i=null;e.hasOwnProperty(t)?l.isDebug&&l.debug("The developer has already created the property "+t+" method do nothing."):(i={get:function(){return this.objectDescriptorGet(t)},enumerable:!0,serializable:!1},r.readOnly||(i.set=function(e){return this.objectDescriptorSet(t,e)}),o.defineProperty(e,t,i))}},blueprintGet:{value:n.deprecateMethod(void 0,function(e){return this.objectDescriptorGet(e)},"blueprintGet","objectDescriptorGet"),enumerable:!1,serializable:!1},objectDescriptorGet:{value:function(e){var r=this.objectDescriptor.propertyDescriptorForName(e),t="_"+r.name;return this[t]},enumerable:!1,serializable:!1},blueprintSet:{value:n.deprecateMethod(void 0,function(e,r){return this.objectDescriptorSet(e,r)},"blueprintSet","objectDescriptorSet"),enumerable:!1,serializable:!1},objectDescriptorSet:{value:function(e,r){var t=this.objectDescriptor.propertyDescriptorForName(e),o="_"+t.name;if(null===r&&t.denyDelete)throw(new i).initWithMessageTargetAndMethod("Deny Delete",this,t.name);this[o]=r},enumerable:!1,serializable:!1},addPropertyStoredValue:{value:function(e,r){var t=r.name+"$Storage",i="_"+t,a=null;e.hasOwnProperty(t)?l.isError&&l.error("We have an issue here. The developer should not override the stored value for "+t+"."):(r.isToMany?(o.defineProperty(e,i,{value:null,enumerable:!1,serializable:!1}),a={get:function(){return this[i]||(this[i]=[])},enumerable:!1,serializable:!1}):a={value:null,enumerable:!1,serializable:!1},o.defineProperty(e,t,a))}},addAssociation:{value:function(e,r){this.addPropertyStorage(e,r),this.addAssociationDefinition(e,r),this.addPropertyStoredValue(e,r)}},addAssociationDefinition:{value:function(e,r){r.isToMany?this.addToManyAssociationDefinition(e,r):this.addToOneAssociationDefinition(e,r)}},addToOneAssociationDefinition:{value:function(e,r){var t=r.name.toCapitalized(),i="addTo"+t;e.hasOwnProperty(i)?l.isError&&l.error("We have an issue here. The developer should not override the method "+i+"."):o.defineProperty(e,i,{serializable:!1,enumerable:!1,value:function(){return null}}),i="removeFrom"+t,e.hasOwnProperty(i)?l.isError&&l.error("We have an issue here. The developer should not override the method "+i+"."):o.defineProperty(e,i,{serializable:!1,enumerable:!1,value:function(){return null}}),i="clear"+t,e.hasOwnProperty(i)?l.isError&&l.error("We have an issue here. The developer should not override the method "+i+"."):o.defineProperty(e,i,{serializable:!1,enumerable:!1,value:function(){return null}})}},addToManyAssociationDefinition:{value:function(e,r){var t=r.name.toCapitalized(),i="addTo"+t;e.hasOwnProperty(i)?l.isError&&l.error("We have an issue here. The developer should not override the method "+i+"."):o.defineProperty(e,i,{serializable:!1,enumerable:!1,value:function(){return null}}),i="removeFrom"+t,e.hasOwnProperty(i)?l.isError&&l.error("We have an issue here. The developer should not override the method "+i+"."):o.defineProperty(e,i,{serializable:!1,enumerable:!1,value:function(){return null}}),i="clear"+t,e.hasOwnProperty(i)?l.isError&&l.error("We have an issue here. The developer should not override the method "+i+"."):o.defineProperty(e,i,{serializable:!1,enumerable:!1,value:function(){return null}})}},addDerivedProperty:{value:function(e,r){}}})}});