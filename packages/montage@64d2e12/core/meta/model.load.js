montageDefine("64d2e12","core/meta/model",{dependencies:["../core","./model-group","./object-descriptor","../deprecate","../application","../core","../core","../core","../core"],factory:function(e,t,r){var o=e("../core").Montage,i=e("./model-group").ModelGroup,c=e("./object-descriptor"),n=e("../deprecate"),s=e("../application").application,u=null,p=t.Model=o.specialize({constructor:{value:function(){return this._name=null,this.modelModuleId=null,this.isDefault=!1,this._objectDescriptorForPrototypeTable={},this}},initWithNameAndRequire:{value:function(e,t){if(!e)throw new Error("name is required");if(!t)throw new Error("require is required");return this._name=e,this._require=t,p.group.addModel(this),this}},serializeSelf:{value:function(e){this.version>1&&e.setProperty("version",this.version),e.setProperty("name",this.name),this.objectDescriptors.length>0&&e.setProperty("objectDescriptors",this.objectDescriptors),e.setProperty("objectModelModuleId",this.modelInstanceModuleId)}},deserializeSelf:{value:function(e){var t=e.getProperty("version");void 0!==t&&(this.version=t),t=e.getProperty("name"),void 0!==t&&(this._name=t),t=e.getProperty("objectDescriptors")||e.getProperty("blueprints"),t&&(this._objectDescriptors=t),t=e.getProperty("objectModelModuleId")||e.getProperty("binderModuleId"),void 0!==t&&(this.modelInstanceModuleId=t)}},_name:{value:null},name:{get:function(){return this._name}},_require:{value:null},require:{get:function(){return this._require}},_objectDescriptorForPrototypeTable:{value:null},identifier:{get:function(){return["objectModel",this.name.toLowerCase()].join("_")}},modelInstanceModuleId:{serializable:!1,value:null},isDefault:{serializable:!1,value:!1},_objectDescriptors:{value:null},objectDescriptors:{get:function(){return this._objectDescriptors||(this._objectDescriptors=[])}},addObjectDescriptor:{value:function(e){if(null!==e){var t=this.objectDescriptors.indexOf(e);t<0&&(null!==e.model&&e.model!==this&&e.model.removeObjectDescriptor(e),this.objectDescriptors.push(e),e.model=this)}return e}},removeObjectDescriptor:{value:function(e){if(null!==e){var t=this.objectDescriptors.indexOf(e);t>=0&&(this.objectDescriptors.splice(t,1),e.model=null)}return e}},addObjectDescriptorNamed:{value:function(e){return this.addObjectDescriptor((new c.ObjectDescriptor).initWithName(e))}},objectDescriptorForPrototype:{value:n.deprecateMethod(void 0,function(e){return this.objectDescriptorForName(e)},"objectDescriptorForPrototype","objectDescriptorForName",!0)},objectDescriptorForName:{value:function(e){for(var t=this.objectDescriptors,r=null,o=t.length,i=0;i<o&&!r;i++)t[i].name===e&&(r=t[i]);return r}},_objectDescriptorObjectProperty:{value:null},ObjectProperty:{get:function(){return this._objectDescriptorObjectProperty||(this._objectDescriptorObjectProperty=p.group.defaultObjectDescriptorObjectProperty),this._objectDescriptorObjectProperty}},objectDescriptorModuleId:e("../core")._objectDescriptorModuleIdDescriptor,objectDescriptor:e("../core")._objectDescriptorDescriptor,blueprints:{get:n.deprecateMethod(void 0,function(){return this.objectDescriptors},"blueprints","objectDescriptors",!0)},addBlueprint:{value:n.deprecateMethod(void 0,function(e){return this.addObjectDescriptor(e)},"addBlueprint","addObjectDescriptor",!0)},removeBlueprint:{value:n.deprecateMethod(void 0,function(e){return this.removeObjectDescriptor(e)},"removeBlueprint","removeObjectDescriptor",!0)},addBlueprintNamed:{value:n.deprecateMethod(void 0,function(e){return this.addObjectDescriptorNamed(e)},"addBlueprintNamed","addObjectDescriptorNamed",!0)},blueprintForPrototype:{value:n.deprecateMethod(void 0,function(e){return this.blueprintForName(e)},"blueprintForPrototype","blueprintForName",!0)},blueprintForName:{value:n.deprecateMethod(void 0,function(e){return this.objectDescriptorForName(e)},"blueprintForName","objectDescriptorForName",!0)},blueprintModuleId:e("../core")._objectDescriptorModuleIdDescriptor,blueprint:e("../core")._objectDescriptorDescriptor},{group:{get:function(){return null===u&&(u=new i,u.name=s?s.name:""),u}},manager:{get:n.deprecateMethod(void 0,function(){return t.Model.group},"Binder.manager","Model.group")}})}});