var Promise=require("../promise").Promise,RemoteReference=require("./remote-reference").RemoteReference,ModelModule=require("./model");exports.ModelReference=RemoteReference.specialize({constructor:{value:function(){this.superForValue("constructor")()}},identifier:{get:function(){return this._reference||(this._reference=this.referenceFromValue(this._value)),["model",this._reference.modelName.toLowerCase(),"reference"].join("_")}},valueFromReference:{value:function(e,r){var o=e.modelName,n=e.modelModuleId,l=ModelModule.Model.group.modelForName(o);return l?Promise.resolve(l):Promise.reject(new Error("Error cannot find Object Model "+n))}},referenceFromValue:{value:function(e){var r={};return r.modelName=e.name,r.modelModuleId=e.modelModuleId,r}}});