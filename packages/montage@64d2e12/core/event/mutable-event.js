var Montage=require("../core").Montage,wrapPropertyGetter=function(t,e){return function(){return this.hasOwnProperty(e)?this[e]:this._event[t]}},wrapPropertySetter=function(t){return function(e){this[t]=e}};if("undefined"!=typeof window)var _eventConstructorsByType={},wrapProperty=function(t,e){var n="_"+e;Montage.defineProperty(t,n,{value:void 0}),Montage.defineProperty(t,e,{get:wrapPropertyGetter(e,n),set:wrapPropertySetter(n)})},MutableEvent=exports.MutableEvent=Montage.specialize({_initPrototypeWithEvent:{value:function(t){var e,n=this.__proto__||Object.getPrototypeOf(this);for(e in t)e in this||Object.getOwnPropertyDescriptor(n,e)||wrapProperty(this,e);return wrapProperty(this,"replayed"),this}},_initWithEvent:{value:function(t){return this._event=t,this}},preventDefault:{value:function(){this._event.preventDefault()}},getPreventDefault:{value:function(){return this._event.getPreventDefault?this._event.getPreventDefault():this._event.defaultPrevented}},stopImmediatePropagation:{value:function(){this._event.stopImmediatePropagation(),this.propagationStopped=!0,this.immediatePropagationStopped=!0}},propagationStopped:{value:!1},immediatePropagationStopped:{value:!1},mutable:{value:!0},stopPropagation:{value:function(){this._event.stopPropagation(),this.propagationStopped=!0}},stop:{value:function(){this.preventDefault(),this.stopPropagation()}},_eventPhase:{value:void 0},eventPhase:{get:function(){return void 0!==this._eventPhase?this._eventPhase:this._event.eventPhase},set:function(t){this._eventPhase=t}},_target:{value:void 0},target:{get:function(){return void 0!==this._target?this._target:this._event.target},set:function(t){this._target=t}},_currentTarget:{value:void 0},currentTarget:{get:function(){return void 0!==this._currentTarget?this._currentTarget:this._event.currentTarget},set:function(t){this._currentTarget=t}},_type:{value:void 0},type:{get:function(){return void 0!==this._type?this._type:this._event.type},set:function(t){this._type=t}},_bubbles:{value:void 0},bubbles:{get:function(){return void 0!==this._bubbles?this._bubbles:this._event.bubbles},set:function(t){this._bubbles=t}},touches:{get:function(){return this._event.touches},set:function(t){this._event.touches=t}},changedTouches:{get:function(){return this._event.changedTouches},set:function(t){this._event.changedTouches=t}},targetTouches:{get:function(){return this._event.targetTouches}},_defaultPrevented:{value:void 0},defaultPrevented:{get:function(){return void 0!==this._defaultPrevented?this._defaultPrevented:this._event.defaultPrevented},set:function(t){this._defaultPrevented=t}},_timeStamp:{value:void 0},timeStamp:{get:function(){return void 0!==this._timeStamp?this._timeStamp:this._event.timeStamp},set:function(t){this._timeStamp=t}}},{fromEvent:{value:function(t){var e,n=t.type,i=_eventConstructorsByType[n];return i||(i=function(){},i.prototype=(new exports.MutableEvent)._initPrototypeWithEvent(t),_eventConstructorsByType[n]=i),e=new i,e._initWithEvent(t),e}},fromType:{value:function(t,e,n,i){return this.fromEvent(new CustomEvent(t,{bubbles:e,cancelable:n,detail:i}))}}});