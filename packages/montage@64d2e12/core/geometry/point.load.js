montageDefine("64d2e12","core/geometry/point",{dependencies:["../core"],factory:function(e,n,t){var o=e("../core").Montage,i=n.Point=o.specialize({init:{enumerable:!1,value:function(e,n){return this.x=null===e?0:e,this.y=null===n?0:n,this}},x:{enumerable:!0,value:0},y:{enumerable:!0,value:0}},{interpolate:{enumerable:!1,value:function(e,t,o,i){var r,l;return r=t.x+(o.x-t.x)*e,l=t.y+(o.y-t.y)*e,i>0&&(r=Math.round(r*i)/i,l=Math.round(l*i)/i),(new n.Point).init(r,l)}}}),r=function(e){var n,t,o,i,r=e.ownerDocument;if(e&&r){if(t=r.documentElement,o=r.body,i=r.defaultView,e!==o){if(n=e.getBoundingClientRect(),t.parentOf(e)){var l=t.clientTop||o.clientTop||0,u=t.clientLeft||o.clientLeft||0,f=i.pageYOffset||t.scrollTop||o.scrollTop,a=i.pageXOffset||t.scrollLeft||o.scrollLeft,c=n.top+f-l,d=n.left+a-u;return{top:c,left:d}}return{top:n.top,left:n.left}}return{top:o.offsetTop,left:o.offsetLeft}}return null},l=null,u=function(){i.convertPointFromNodeToPage=function(e,n){return e&&"undefined"==typeof e.x?(n?(l.x=n.x,l.y=n.y):(l.x=0,l.y=0),n=webkitConvertPointFromNodeToPage(e,l),n?(new i).init(n.x,n.y):null):null},i.convertPointFromPageToNode=function(e,n){return e&&"undefined"==typeof e.x?(n?(l.x=n.x,l.y=n.y):(l.x=0,l.y=0),n=webkitConvertPointFromPageToNode(e,l),n?(new i).init(n.x,n.y):null):null}},f=function(){i.convertPointFromNodeToPage=function(e,n){if(!e||"undefined"!=typeof e.x)return null;var t;return(t=r(e))?(new i).init((n?n.x:0)+t.left,(n?n.y:0)+t.top):(new i).init(n?n.x:0,n?n.y:0)},i.convertPointFromPageToNode=function(e,n){if(!e||"undefined"!=typeof e.x)return null;var t;return(t=r(e))?(new i).init((n?n.x:0)-t.left,(n?n.y:0)-t.top):(new i).init(n?n.x:0,n?n.y:0)}};"undefined"!=typeof WebKitPoint&&"undefined"!=typeof webkitConvertPointFromNodeToPage?(l=new WebKitPoint(0,0),u()):f()}});