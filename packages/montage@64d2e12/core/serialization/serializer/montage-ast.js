var Montage=require("../../core").Montage,Root=exports.Root=Montage.specialize({constructor:{value:function(){this.object=Object.create(null)}},object:{value:null},setProperty:{value:function(e,t){null!==e&&void 0!==e&&(this.object[e]=t)}},getProperty:{value:function(e){return this.object[e]}},clearProperty:{value:function(e){delete this.object[e]}},hasProperty:{value:function(e){return e in this.object}},serialize:{value:function(e){return JSON.stringify(this,null,e)}},toJSON:{value:function(){var e,t=Object.create(null);for(var l in this.object)Object.hasOwnProperty.call(this.object,l)&&(e=this.object[l],e.toJSON?t[l]=e.toJSON(l,1):t[l]=e);return t}}}),Value=exports.Value=Montage.specialize({root:{value:null},label:{value:null},value:{value:null},constructor:{value:function(e,t){this.root=e,this.value=t}},setLabel:{value:function(e){this.label&&this.root.clearProperty(this.label),this.label=e,this.root.setProperty(e,this)}},getLabel:{value:function(){return this.label}},clearLabel:{value:function(){this.root.clearProperty(this.label),this.label=null}},_getSerializationValue:{value:function(){return this.value}},toJSON:{value:function(e,t){var l=this._getSerializationValue();return 1===t?{value:l}:l}}}),ElementReference=exports.ElementReference=Value.specialize({initWithRootAndId:{value:function(e,t){return Value.call(this,e,t),this}},_getSerializationValue:{value:function(){return{"#":this.value}}}}),ModuleReference=exports.ModuleReference=Value.specialize({initWithRootAndModuleId:{value:function(e,t){return Value.call(this,e,t),this}},_getSerializationValue:{value:function(){return{"%":this.value}}}}),ObjectReference=exports.ObjectReference=Value.specialize({constructor:{value:function(e,t){Value.call(this,e,t)}},_getSerializationValue:{value:function(){return{"@":this.value}}}}),CustomObject=exports.CustomObject=Value.specialize({constructor:{value:function(e){Value.call(this,e,Object.create(null))}},setProperty:{value:function(e,t){null!==e&&void 0!==e&&(this.value[e]=t)}},getProperty:{value:function(e){return this.value[e]}},clearProperty:{value:function(e){delete this.value[e]}},toJSON:{value:function(e,t){var l,a=this._getSerializationValue();return 1===t?a:(l=new ObjectReference(this.root,this.label),l.toJSON())}}}),ReferenceableValue=exports.ReferenceableValue=Value.specialize({constructor:{value:function(e,t){Value.call(this,e,t)}},toJSON:{value:function(e,t){var l,a=this._getSerializationValue();return 1===t?{value:a}:this.label?(l=new ObjectReference(this.root,this.label),l.toJSON()):a}}}),ObjectLiteral=exports.ObjectLiteral=ReferenceableValue.specialize({constructor:{value:function(e,t){Value.call(this,e,t)}},setProperty:{value:function(e,t){null!==e&&void 0!==e&&(this.value[e]=t)}},getProperty:{value:function(e){return this.value[e]}},clearProperty:{value:function(e){delete this.value[e]}},getPropertyNames:{value:function(){return Object.keys(this.value)}}}),RegExpObject=exports.RegExpObject=ReferenceableValue.specialize({constructor:{value:function(e,t){Value.call(this,e,t)}},_getSerializationValue:{value:function(){var e=this.value;return{"/":{source:e.source,flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")}}}}});