var Loader=require("../loader.reel").Loader,OFF_CLASS_NAME="off",ANI_CLASS_NAME="ani",TRIANGLES_CLASS_NAME="tri",LOADER_STATE_INIT=0,LOADER_STATE_ANIMATING=1,LOADER_STATE_STOPPED=2,MontageStudioLoader=exports.MontageStudioLoader=Loader.specialize({hasTemplate:{value:!0},_state:{value:null},_shouldRotate:{value:!1},animationInterval:{value:3500},minimumFirstLoadingDuration:{value:6e3},state:{set:function(t){this._state!==t&&(this._state=t)},get:function(){return null===this._state&&(this._state=LOADER_STATE_INIT),this._state}},enterDocument:{value:function(t){Loader.prototype.enterDocument.call(this,t),t&&this.startAnimation()}},exitDocument:{value:function(){this.state===LOADER_STATE_ANIMATING&&this.stopAnimation()}},startAnimation:{value:function(){if(this.state!==LOADER_STATE_STOPPED){var t=this;this._animationIntervalTimeoutID=setTimeout(function(){t.state!==LOADER_STATE_STOPPED&&(t.state=LOADER_STATE_ANIMATING,t.needsDraw=!0)},this.animationInterval)}}},stopAnimation:{value:function(){this.state===LOADER_STATE_ANIMATING&&(this._animationIntervalTimeoutID&&(clearTimeout(this._animationIntervalTimeoutID),this._animationIntervalTimeoutID=null),this.state=LOADER_STATE_STOPPED,this.needsDraw=!0)}},draw:{value:function(){if(Loader.prototype.draw.call(this),this.state===LOADER_STATE_ANIMATING){this._logoTrianglesElement.classList.remove(OFF_CLASS_NAME),this._logoWtrianglesElement.classList.remove(OFF_CLASS_NAME),this._logoSVGContainerElement.classList.add(ANI_CLASS_NAME),this._logoWtrianglesElement.classList.add(ANI_CLASS_NAME),this._logoLinesElement.classList.add(OFF_CLASS_NAME);for(var t=document.getElementsByClassName(TRIANGLES_CLASS_NAME),e="t",i=0;i<t.length;i++)t[i].classList.add(e+(i+1))}else this.state===LOADER_STATE_STOPPED&&(this._logoTrianglesElement=null,this._logoWtrianglesElement=null,this._logoSVGContainerElement=null,this._logoWtrianglesElement=null,this._logoLinesElement=null,this.element.classList.add(OFF_CLASS_NAME))}}});