montageDefine("64d2e12","ui/list-item.reel/list-item",{dependencies:["../component","../../composer/press-composer","frb/assign","../../core/core"],factory:function(e,t,o){var n=e("../component").Component,i=e("../../composer/press-composer").PressComposer,s=e("frb/assign"),r=e("../../core/core").Montage;t.ListItem=n.specialize({_templateDidLoad:{value:!1},templateDidLoad:{value:function(){this.defineBindings({_iconSrc:{"<-":"data.defined() && userInterfaceDescriptor.defined() ? (data.path(userInterfaceDescriptor.iconExpression || null) || path(userInterfaceDescriptor.iconExpression || null)) : iconSrc"},_defaultIconComponenModule:{"<-":"iconComponentModule || _montageIconComponentModule"},_iconComponentModule:{"<-":"data.defined() && userInterfaceDescriptor.defined() ? (userInterfaceDescriptor.iconComponentModule || _defaultIconComponenModule) : _defaultIconComponenModule"},_label:{"<-":"data.defined() && userInterfaceDescriptor.defined() ? (data.path(userInterfaceDescriptor.nameExpression) || label) : (label || data)"},_description:{"<-":"data.defined() && userInterfaceDescriptor.defined() ? (data.path(userInterfaceDescriptor.descriptionExpression) || description) : description"},__value:{"<-":"data.defined() && userInterfaceDescriptor.defined() ? data.path(userInterfaceDescriptor.valueExpression) : _value"},_defaultToggleComponentModule:{"<-":"toggleComponentModule || _montageToogleComponentModule"},_toggleComponentModule:{"<-":"__value.defined() && userInterfaceDescriptor.defined() ? (userInterfaceDescriptor.listItemToggleComponentModule || _defaultToggleComponentModule) : _defaultToggleComponentModule"},_descriptionPosition:{"<-":"userInterfaceDescriptor.defined() ? (userInterfaceDescriptor.listItemDescriptionPosition || descriptionPosition) : descriptionPosition"},_isExpandable:{"<-":"userInterfaceDescriptor.defined() ? (userInterfaceDescriptor.listItemIsExpandable || isExpandable) : isExpandable"}}),this._templateDidLoad=!0,this._loadDataUserInterfaceDescriptorIfNeeded()}},_value:{value:null},value:{set:function(e){this._value=!!e},get:function(){return this._value}},_isExpandable:{value:!1},isExpandable:{set:function(e){this._isExpandable=!!e},get:function(){return this._isExpandable}},_descriptionPosition:{value:null},descriptionPosition:{set:function(e){this._descriptionPosition="bottom"===e?e:"right"},get:function(){return this._descriptionPosition}},active:{value:!1},selected:{value:!1},label:{value:null},description:{value:null},iconComponentModule:{value:null},toggleComponentModule:{value:null},iconSrc:{value:null},_data:{value:null},data:{get:function(){return this._data},set:function(e){this._data!==e&&(this._data=e,this._loadDataUserInterfaceDescriptorIfNeeded())}},rowIndex:{value:-1},list:{value:null},userInterfaceDescriptor:{value:null},__pressComposer:{value:null},_pressComposer:{get:function(){return this.__pressComposer||(this.__pressComposer=new i,this.__pressComposer.delegate=this,this.addComposerForElement(this.__pressComposer,this._valuePlaceholderComponent.element)),this.__pressComposer}},shouldComposerSurrenderPointerToComponent:{value:function(e,t,o){return e!==this.__pressComposer||!this.element.contains(o.element)}},enterDocument:{value:function(){this._startListeningToPressIfNeeded()}},prepareForActivationEvents:{value:function(){this._startListeningToPress()}},exitDocument:{value:function(){this._startListeningToPressIfNeeded()}},_startListeningToPressIfNeeded:{value:function(){this.preparedForActivationEvents&&this._startListeningToPress()}},_startListeningToPress:{value:function(){this._pressComposer.addEventListener("press",this)}},_stopListeningToPress:{value:function(){this.preparedForActivationEvents&&this._pressComposer.removeEventListener("press",this)}},handlePress:{value:function(){var e=!this.__value;this.data&&this.userInterfaceDescriptor&&this.userInterfaceDescriptor.valueExpression&&s(this.data,this.userInterfaceDescriptor.valueExpression,e),this.value=e}},_loadDataUserInterfaceDescriptorIfNeeded:{value:function(){if(this.data&&this._templateDidLoad){var t,o=this;return this.loadUserInterfaceDescriptor(this.data).then(function(n){o.userInterfaceDescriptor=n||o.userInterfaceDescriptor;var i,s,a=o._iconComponentModule?o._iconComponentModule.id:null,l=o._toggleComponentModule?o._toggleComponentModule.id:null;o._label=o.callDelegateMethod("listItemWillUseLabelForObjectAtRowIndex",o,o._label,o.data,o.rowIndex,o.list)||o._label,o._description=o.callDelegateMethod("listItemWillUseDescriptionForObjectAtRowIndex",o,o._description,o.data,o.rowIndex,o.list)||o._description,s=o.callDelegateMethod("listItemWillUseIconComponentModuleIdForObjectAtRowIndex",o,a,o.data,o.rowIndex,o.list)||a,s&&a!==s&&o.delegate&&(t=r.getInfoForObject(o.delegate),o._iconComponentModule={require:t.require||e,id:s}),o._iconComponentModule===o._montageIconComponentModule&&(o._iconSrc=o.callDelegateMethod("listItemWillUseIconSrcForObjectAtRowIndex",o,o._iconSrc,o.data,o.rowIndex,o.list)||o._iconSrc),i=o.callDelegateMethod("listItemWillUseToggleComponentModuleIdForObjectAtRowIndex",o,l,o.data,o.rowIndex,o.list)||l,i&&l!==i&&o.delegate&&(t=t||r.getInfoForObject(o.delegate),o._defaultToggleComponentModule={require:t.require||e,id:i}),o._descriptionPosition=o.callDelegateMethod("listItemWillUseDescriptionPositionForObjectAtRowIndex",o,o.descriptionPosition,o.data,o.rowIndex,o.list)||o._descriptionPosition,o._isExpandable=o.callDelegateMethod("listItemShouldBeExpandableForObjectAtRowIndex",o,o._isExpandable,o.data,o.rowIndex,o.list)||o._isExpandable})}}}})}});