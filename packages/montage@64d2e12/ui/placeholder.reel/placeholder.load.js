montageDefine("64d2e12","ui/placeholder.reel/placeholder",{dependencies:["../slot.reel"],factory:function(e,n,t){var o=e("../slot.reel").Slot,i=n.Placeholder=o.specialize({constructor:{value:function(){i.componentModulesMap||(i.componentModulesMap=new Map)}},_componentsMap:{get:function(){return i.componentModulesMap}},_component:{value:null},hasTemplate:{value:!1},_needsFetchingComponent:{value:!1},_componentModule:{value:null},componentModule:{get:function(){return this._componentModule},set:function(e){this._componentModule!==e&&(e&&(this._needsFetchingComponent=!0),this._componentModule=e,this.needsDraw=!0)}},_data:{value:null},data:{get:function(){return this._data},set:function(e){this._data!==e&&(e&&(this._needsFetchingComponent=!0),this._data=e,this.needsDraw=!0)}},enterDocument:{value:function(){this.componentModule&&!this.compoennt&&(this._needsFetchingComponent=!0,this.needsDraw=!0)}},exitDocument:{value:function(){this.content=null,this.component=null}},_fetchComponentIfNeeded:{value:function(){var e,n,t=this;if(this.componentModule&&(n=this.componentModule.id)&&"string"==typeof n&&n.length&&!this._fetchingComponentPromise&&this._needsFetchingComponent){var o=this.componentModule.require;e=this._fetchComponentConstructor(n,o).then(function(e){var n=t.component=new e,o=n.exitDocument;n.data=t.data,n.exitDocument=function(){o&&(o.call(n),o=null),n.cancelBindings()},t.content=n},function(e){throw t._needsFetchingComponent=!1,e}),this._fetchingComponentPromise=e}else e=this._fetchingComponentPromise||Promise.resolve();return e.then(function(){t._needsFetchingComponent=!1,t._fetchingComponentPromise=null})}},_fetchComponentConstructor:{value:function(e,n){var t;if(this._componentsMap.has(e))t=Promise.resolve(this._componentsMap.get(e));else{var o=this;t=n.async(e).then(function(n){var t=n[Object.keys(n)[0]];return o._componentsMap.set(e,t),t})}return t}},draw:{value:function(){this.element.classList.add("Placeholder"),this._fetchComponentIfNeeded()}}})}});