var RawValueToObjectConverter=require("./raw-value-to-object-converter").RawValueToObjectConverter,Criteria=require("core/criteria").Criteria,DataQuery=require("data/model/data-query").DataQuery,Promise=require("core/promise").Promise;exports.RawForeignValueToObjectConverter=RawValueToObjectConverter.specialize({convert:{value:function(e){if(e){var r,t=this,i=(new Criteria).initWithSyntax(t.convertSyntax,e);return this._descriptorToFetch.then(function(e){var a=e.module.id;return a+="/",a+=e.name,t.serviceIdentifier&&(i.parameters.serviceIdentifier=t.serviceIdentifier),r=DataQuery.withTypeAndCriteria(a,i),t.service?t.service.then(function(e){return e.rootService.fetchData(r)}):null})}return Promise.resolve()}},revert:{value:function(e){if(e){if(this.compiledRevertSyntax){var r=this.scope;return r.value=e,Promise.resolve(this.compiledRevertSyntax(r))}return Promise.resolve(e)}return Promise.resolve()}}});