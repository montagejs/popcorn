montageDefine("64d2e12","data/converter/raw-embedded-value-to-object-converter",{dependencies:["./raw-value-to-object-converter","core/promise"],factory:function(e,r,t){var n=e("./raw-value-to-object-converter").RawValueToObjectConverter,o=e("core/promise").Promise;r.RawEmbeddedValueToObjectConverter=n.specialize({convert:{value:function(e){var r,t,n=this;return o.all([this._descriptorToFetch,this.service]).then(function(a){var v=a[0],c=a[1];if(Array.isArray(e)){if(e.length){r=[];for(var i,u=0,l=e.length;u<l;u++)t=n._convertOneValue(e[u],v,c,r,u),o.is(t)&&(i||(i=[])).push(t);return o.all(i).then(function(){return r})}return o.resolve(e)}if(e)return this._convertOneValue(e,v,c)})}},_convertOneValue:{value:function(e,r,t,n,a){var v=t.resolveObjectForTypeRawData(r,e);return v=v?v.then(function(e){return n&&(n[a]=e),e}):o.resolve()}},revert:{value:function(e){if(e){if(this.compiledRevertSyntax){var r=this.scope;return r.value=e,o.resolve(this.compiledRevertSyntax(r))}return o.resolve(e)}return o.resolve()}}})}});