"use strict";var ee=require("../");module.exports=function(e,o){var p,i,t,s,n={},f={},P={};ee(n),n=Object.create(n),ee(f),ee(P),p=0,i=0,t=0,n.on("foo",function(){++p}),f.on("foo",function(){++i}),P.on("foo",function(){++t}),n.emit("foo"),o(p,1,"Pre pipe, x"),o(i,0,"Pre pipe, y"),o(t,0,"Pre pipe, z"),s=e(n,f),n.emit("foo"),o(p,2,"Post pipe, x"),o(i,1,"Post pipe, y"),o(t,0,"Post pipe, z"),f.emit("foo"),o(p,2,"Post pipe, on y, x"),o(i,2,"Post pipe, on y, y"),o(t,0,"Post pipe, on y, z"),e(n,P),n.emit("foo"),o(p,3,"Post pipe z, x"),o(i,3,"Post pipe z, y"),o(t,1,"Post pipe z, z"),s.close(),n.emit("foo"),o(p,4,"Close pipe y, x"),o(i,3,"Close pipe y, y"),o(t,2,"Close pipe y, z")};