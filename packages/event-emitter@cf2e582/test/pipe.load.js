montageDefine("cf2e582","test/pipe",{dependencies:["../"],factory:function(o,e,p){"use strict";var i=o("../");p.exports=function(o,e){var p,t,n,s,f={},c={},y={};i(f),f=Object.create(f),i(c),i(y),p=0,t=0,n=0,f.on("foo",function(){++p}),c.on("foo",function(){++t}),y.on("foo",function(){++n}),f.emit("foo"),e(p,1,"Pre pipe, x"),e(t,0,"Pre pipe, y"),e(n,0,"Pre pipe, z"),s=o(f,c),f.emit("foo"),e(p,2,"Post pipe, x"),e(t,1,"Post pipe, y"),e(n,0,"Post pipe, z"),c.emit("foo"),e(p,2,"Post pipe, on y, x"),e(t,2,"Post pipe, on y, y"),e(n,0,"Post pipe, on y, z"),o(f,y),f.emit("foo"),e(p,3,"Post pipe z, x"),e(t,3,"Post pipe z, y"),e(n,1,"Post pipe z, z"),s.close(),f.emit("foo"),e(p,4,"Close pipe y, x"),e(t,3,"Close pipe y, y"),e(n,2,"Close pipe y, z")}}});