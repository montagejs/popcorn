montageDefine("3dc4dee","index",{dependencies:["domelementtype"],factory:function(t,n,e){function r(t){return t.children}function i(t){return t.parent}function a(t){var n=i(t);return n?r(n):[t]}function u(t,n){return t.attribs&&t.attribs[n]}function o(t,n){return hasOwnProperty.call(t.attribs,n)}function f(t){return t.name}function c(t,n,e,i){for(var a,u=[],o=0,f=n.length;o<f&&!(t(n[o])&&(u.push(n[o]),--i<=0))&&(a=r(n[o]),!(e&&a&&a.length>0&&(a=c(t,a,e,i),u=u.concat(a),i-=a.length,i<=0)));o++);return u}function l(t,n){for(var e=0,r=n.length;e<r;e++)if(t(n[e]))return n[e];return null}function p(t,n){for(var e=null,r=0,i=n.length;r<i&&!e;r++)t(n[r])?e=n[r]:n[r].children&&n[r].children.length>0&&(e=p(t,n[r].children));return e}function s(t,n){for(var e=[],i=0,a=n.length;i<a;i++){t(n[i])&&e.push(n[i]);var u=r(n[i]);u&&u.length&&(e=e.concat(s(t,u)))}return e}function g(t,n,e,r){return Array.isArray(n)||(n=[n]),"number"==typeof r&&isFinite(r)?1===r?(n=e===!1?l(t,n):p(t,n),n?[n]:[]):c(t,n,e!==!1,r):e===!1?n.filter(t):s(t,n)}function d(t,n){return"function"==typeof n?function(e){return e.attribs&&n(e.attribs[t])}:function(e){return e.attribs&&e.attribs[t]===n}}var m=t("domelementtype"),y=e.exports,h=y.isTag=m.isTag;y.getChildren=r,y.getParent=i,y.getAttributeValue=u,y.hasAttrib=o,y.getName=f,y.getSiblings=a,y.findOne=p,y.findAll=s,y.filter=g,y.testElement=function(t,n){for(var e in t)if(t.hasOwnProperty(e)){if("tag_name"===e){if(!h(n)||!t.tag_name(n.name))return!1}else if("tag_type"===e){if(!t.tag_type(n.type))return!1}else if("tag_contains"===e){if(h(n)||!t.tag_contains(n.data))return!1}else if(!n.attribs||!t[e](n.attribs[e]))return!1}else;return!0};var v={tag_name:function(t){return"function"==typeof t?function(n){return h(n)&&t(n.name)}:"*"===t?h:function(n){return h(n)&&n.name===t}},tag_type:function(t){return"function"==typeof t?function(n){return t(n.type)}:function(n){return n.type===t}},tag_contains:function(t){return"function"==typeof type?function(n){return!h(n)&&t(n.data)}:function(n){return!h(n)&&n.data===t}}};y.getElements=function(t,n,e,r){var i=[];for(var a in t)t.hasOwnProperty(a)&&(a in v?i.push(v[a](t[a])):i.push(d(a,t[a])));return 0===i.length?[]:1===i.length?g(i[0],n,e,r):g(function(t){return i.some(function(n){return n(t)})},n,e,r)},y.getElementById=function(t,n,e){return Array.isArray(n)||(n=[n]),p(d("id",t),n,e!==!1)},y.getElementsByTagName=function(t,n,e,r){return g(v.tag_name(t),n,e,r)},y.getElementsByTagType=function(t,n,e,r){return g(v.tag_type(t),n,e,r)},y.removeElement=function(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var n=t.parent.children;n.splice(n.lastIndexOf(t),1)}},y.replaceElement=function(t,n){if(t.prev&&(t.prev.next=n,n.prev=t.prev),t.next&&(t.next.prev=n,n.next=t.next),t.parent){var e=t.parent.children;e.splice(e.lastIndexOf(t),1,n),n.parent=t.parent}},y.getInnerHTML=function(t){if(!t.children)return"";for(var n=t.children,e=n.length,r="",i=0;i<e;i++)r+=y.getOuterHTML(n[i]);return r};var b={__proto__:null,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,defer:!0,disabled:!0,hidden:!0,loop:!0,multiple:!0,open:!0,readonly:!0,required:!0,scoped:!0,selected:!0,"/":!0},_={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,link:!0,meta:!0,param:!0,embed:!0};y.getOuterHTML=function(t){var n=t.type;if(n===m.Text)return t.data;if(n===m.Comment)return"<!--"+t.data+"-->";if(n===m.Directive)return"<"+t.data+">";if(n===m.CDATA)return"<!CDATA "+y.getInnerHTML(t)+"]]>";var e="<"+t.name;if("attribs"in t)for(var r in t.attribs)if(t.attribs.hasOwnProperty(r)){e+=" "+r;var i=t.attribs[r];i?e+='="'+i+'"':r in b||(e+='=""')}return t.name in _&&0===t.children.length?e+" />":e+">"+y.getInnerHTML(t)+"</"+t.name+">"},y.getText=function x(t){return Array.isArray(t)?t.map(x).join(""):h(t)||t.type===m.CDATA?x(t.children):t.type===m.Text?t.data:""}}});