var internals={};exports.arrayToObject=function(r){for(var e={},t=0,o=r.length;t<o;++t)"undefined"!=typeof r[t]&&(e[t]=r[t]);return e},exports.clone=function(r){if("object"!=typeof r||null===r)return r;if(Buffer.isBuffer(r))return r.toString();var e=Array.isArray(r)?[]:{};for(var t in r)r.hasOwnProperty(t)&&(e[t]=exports.clone(r[t]));return e},exports.merge=function(r,e){if(!e)return r;var t=exports.clone(r);if(Array.isArray(e)){for(var o=0,n=e.length;o<n;++o)"undefined"!=typeof e[o]&&("object"==typeof t[o]?t[o]=exports.merge(t[o],e[o]):t[o]=e[o]);return t}Array.isArray(t)&&(t=exports.arrayToObject(t));for(var f=Object.keys(e),a=0,p=f.length;a<p;++a){var c=f[a],i=e[c];i&&"object"==typeof i?t[c]?t[c]=exports.merge(t[c],i):t[c]=exports.clone(i):t[c]=i}return t},exports.decode=function(r){try{return decodeURIComponent(r.replace(/\+/g," "))}catch(e){return r}},exports.compact=function(r){if("object"!=typeof r||null===r)return r;var e={};for(var t in r)if(r.hasOwnProperty(t))if(Array.isArray(r[t])){e[t]=[];for(var o=0,n=r[t].length;o<n;o++)"undefined"!=typeof r[t][o]&&e[t].push(r[t][o])}else e[t]=exports.compact(r[t]);return e};