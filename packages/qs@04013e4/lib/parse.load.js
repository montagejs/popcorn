montageDefine("04013e4","lib/parse",{dependencies:["./utils"],factory:function(e,r,t){var a=e("./utils"),i={delimiter:"&",depth:5,arrayLimit:20,parametersLimit:1e3};i.parseValues=function(e,r){r="string"==typeof r?r:i.delimiter;for(var t={},n=e.split(r,i.parametersLimit),s=0,p=n.length;s<p;++s){var c=n[s],o=c.indexOf("]=")===-1?c.indexOf("="):c.indexOf("]=")+1;if(o===-1)t[a.decode(c)]="";else{var f=a.decode(c.slice(0,o)),l=a.decode(c.slice(o+1));t[f]?t[f]=[].concat(t[f]).concat(l):t[f]=l}}return t},i.parseObject=function(e,r){if(!e.length)return r;var t=e.shift(),a={};if("[]"===t)a=[],a=a.concat(i.parseObject(e,r));else{var n="["===t[0]&&"]"===t[t.length-1]?t.slice(1,t.length-1):t,s=parseInt(n,10);!isNaN(s)&&t!==n&&s<=i.arrayLimit?(a=[],a[s]=i.parseObject(e,r)):a[n]=i.parseObject(e,r)}return a},i.parseKeys=function(e,r,t){if(e){var a=/^([^\[\]]*)/,n=/(\[[^\[\]]*\])/g,s=a.exec(e);if(!Object.prototype.hasOwnProperty(s[1])){var p=[];s[1]&&p.push(s[1]);for(var c=0;null!==(s=n.exec(e))&&c<t;)++c,Object.prototype.hasOwnProperty(s[1].replace(/\[|\]/g,""))||p.push(s[1]);return s&&p.push("["+e.slice(s.index)+"]"),i.parseObject(p,r)}}},t.exports=function(e,r,t){if(""===e||null===e||"undefined"==typeof e)return{};"number"!=typeof r&&(t=r,r=i.depth);var n="string"==typeof e?i.parseValues(e,t):a.clone(e),s={};for(var p in n)if(n.hasOwnProperty(p)){var c=i.parseKeys(p,n[p],r);s=a.merge(s,c)}return a.compact(s)}}});