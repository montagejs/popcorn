"use strict";var isPlainFunction=require("type/plain-function/is"),ensureValue=require("type/value/ensure"),isValue=require("type/value/is"),map=require("es5-ext/object/map"),contains=require("es5-ext/string/#/contains"),call=Function.prototype.call,defineProperty=Object.defineProperty,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,hasOwnProperty=Object.prototype.hasOwnProperty,cacheDesc={configurable:!1,enumerable:!1,writable:!1,value:null},define;define=function(e,t){var r,l,n,a,i,c,o=!1;return t=Object(ensureValue(t)),n=t.cacheName,c=t.flat,isValue(n)||(n=e),delete t.cacheName,r=t.value,i=isPlainFunction(r),delete t.value,l={configurable:Boolean(t.configurable),enumerable:Boolean(t.enumerable)},e!==n?l.get=function(){return hasOwnProperty.call(this,n)?this[n]:(cacheDesc.value=i?call.call(r,this,t):r,cacheDesc.writable=o,defineProperty(this,n,cacheDesc),cacheDesc.value=null,a&&defineProperty(this,e,a),this[n])}:c?l.get=function u(){var l,n=this;if(hasOwnProperty.call(this,e)){if(l=getOwnPropertyDescriptor(this,e),l.hasOwnProperty("value"))return l.value;if("function"==typeof l.get&&l.get!==u)return l.get.call(this)}for(;!hasOwnProperty.call(n,e);)n=getPrototypeOf(n);return a.value=i?call.call(r,n,t):r,defineProperty(n,e,a),a.value=null,n[e]}:l.get=function s(){var l;return hasOwnProperty.call(this,e)&&(l=getOwnPropertyDescriptor(this,e))?l.hasOwnProperty("value")?l.value:"function"==typeof l.get&&l.get!==s?l.get.call(this):r:(a.value=i?call.call(r,this,t):r,defineProperty(this,e,a),a.value=null,this[e])},l.set=function(t){if(hasOwnProperty.call(this,e))throw new TypeError("Cannot assign to lazy defined '"+e+"' property of "+this);l.get.call(this),this[n]=t},t.desc?(a={configurable:contains.call(t.desc,"c"),enumerable:contains.call(t.desc,"e")},n===e?(a.writable=contains.call(t.desc,"w"),a.value=null):(o=contains.call(t.desc,"w"),a.get=l.get,a.set=l.set),delete t.desc):n===e&&(a={configurable:Boolean(t.configurable),enumerable:Boolean(t.enumerable),writable:Boolean(t.writable),value:null}),delete t.configurable,delete t.enumerable,delete t.writable,l},module.exports=function(e){return map(e,function(e,t){return define(t,e)})};