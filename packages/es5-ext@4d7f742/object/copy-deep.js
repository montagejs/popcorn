"use strict";var forEach=require("./for-each"),isPlainObject=require("./is-plain-object"),ensureValue=require("./valid-value"),isArray=Array.isArray,copyValue=function(r,e,a){var u;if(isPlainObject(r)?u="object":isArray(r)&&(u="array"),!u)return r;var i=a[e.indexOf(r)];return i?i:(i="object"===u?{}:[],e.push(r),a.push(i),"object"===u?forEach(r,function(r,u){i[u]=copyValue(r,e,a)}):r.forEach(function(r,u){i[u]=copyValue(r,e,a)}),e.pop(),a.pop(),i)};module.exports=function(r){return copyValue(ensureValue(r),[],[])};