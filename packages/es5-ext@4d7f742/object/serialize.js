"use strict";var toArray=require("./to-array"),isDate=require("../date/is-date"),isValue=require("../object/is-value"),isRegExp=require("../reg-exp/is-reg-exp"),isArray=Array.isArray,stringify=JSON.stringify,objHasOwnProperty=Object.prototype.hasOwnProperty,keyValueToString=function(r,e){return stringify(e)+":"+module.exports(r)},sparseMap=function(r){var e,t=r.length,i=new Array(t);for(e=0;e<t;++e)objHasOwnProperty.call(r,e)&&(i[e]=module.exports(r[e]));return i};module.exports=function(r){if(!isValue(r))return String(r);switch(typeof r){case"string":return stringify(r);case"number":case"boolean":case"function":return String(r);case"object":return isArray(r)?"["+sparseMap(r)+"]":isRegExp(r)?String(r):isDate(r)?"new Date("+r.valueOf()+")":"{"+toArray(r,keyValueToString)+"}";default:throw new TypeError("Serialization of "+String(r)+"is unsupported")}};