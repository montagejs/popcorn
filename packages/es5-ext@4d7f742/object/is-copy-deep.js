"use strict";var eq=require("./eq"),isPlainObject=require("./is-plain-object"),value=require("./valid-value"),isArray=Array.isArray,keys=Object.keys,objPropertyIsEnumerable=Object.prototype.propertyIsEnumerable,objHasOwnProperty=Object.prototype.hasOwnProperty,eqArr,eqVal,eqObj;eqArr=function(e,r,t){var n,a=e.length;if(a!==r.length)return!1;for(n=0;n<a;++n){if(objHasOwnProperty.call(e,n)!==objHasOwnProperty.call(r,n))return!1;if(!eqVal(e[n],r[n],t))return!1}return!0},eqObj=function(e,r,t){var n=keys(e),a=keys(r);return n.length===a.length&&n.every(function(n){return!!objPropertyIsEnumerable.call(r,n)&&eqVal(e[n],r[n],t)})},eqVal=function(e,r,t){var n,a,i,u;if(eq(e,r))return!0;if(isPlainObject(e)){if(!isPlainObject(r))return!1;a=eqObj}else{if(!isArray(e)||!isArray(r))return!1;a=eqArr}if(i=t[0],u=t[1],n=i.indexOf(e),n===-1)n=i.push(e)-1,u[n]=[];else if(u[n].indexOf(r)!==-1)return!0;return u[n].push(r),a(e,r,t)},module.exports=function(e,r){return!!eq(value(e),value(r))||eqVal(Object(e),Object(r),[[],[]])};