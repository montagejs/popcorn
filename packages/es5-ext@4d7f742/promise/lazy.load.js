montageDefine("4d7f742","promise/lazy",{dependencies:["../function/is-function"],factory:function(e,t,n){"use strict";var i=e("../function/is-function");n.exports=function(e){var t;if(i(this))t=this;else{if("function"!=typeof Promise)throw new TypeError("Could not resolve Promise constuctor");t=Promise}var n,r=new t(function(t,i){n=function(n,r){if(!hasOwnProperty.call(this,"then"))throw new Error("Unexpected (inherited) lazy then invocation");try{e(t,i)}catch(o){i(o)}return delete this.then,this.then(n,r)}});return Object.defineProperty(r,"then",{configurable:!0,writable:!0,value:n})}}});