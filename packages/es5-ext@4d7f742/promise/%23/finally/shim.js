"use strict";var ensurePlainFunction=require("../../../object/ensure-plain-function"),isThenable=require("../../../object/is-thenable"),ensureThenable=require("../../../object/ensure-thenable"),resolveCallback=function(e,n){var r=e();return isThenable(r)?r.then(n):n()};module.exports=function(e){return ensureThenable(this),ensurePlainFunction(e),this.then(function(n){return resolveCallback(e,function(){return n})},function(n){return resolveCallback(e,function(){throw n})})};