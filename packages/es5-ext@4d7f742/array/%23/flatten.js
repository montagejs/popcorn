"use strict";var ensureValue=require("../../object/valid-value"),isArray=Array.isArray,objHasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(){var r,e,o,s,t=ensureValue(this),u=0,a=[];r:for(;t;){for(o=t.length,s=u;s<o;++s)if(objHasOwnProperty.call(t,s)){if(isArray(t[s])){s<o-1&&(r||(r=[],e=[]),r.push(t),e.push(s+1)),t=t[s],u=0;continue r}a.push(t[s])}r?(t=r.pop(),u=e.pop()):t=null}return a};