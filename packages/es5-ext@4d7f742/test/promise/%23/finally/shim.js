"use strict";var microtaskDelay=require("../../../../function/#/microtask-delay");"function"!=typeof Promise&&(global.Promise=require("plain-promise")),module.exports=function(r,o){return{Success:function(e){var n;r.call(Promise.resolve("foo"),function(){return n=!0,"bar"}).then(microtaskDelay.call(function(r){o(r,"foo"),o(n,!0),e()},microtaskDelay.call(e)))},Failure:function(e){var n,l=new Error("Some error");r.call(Promise.reject(l),function(){return n=!0,"bar"}).then(microtaskDelay.call(function(){o.never(),e()}),microtaskDelay.call(function(r){o(r,l),o(n,!0),e()}))},SuccessFinallyError:function(e){var n,l=new Error("Finally error");r.call(Promise.resolve("foo"),function(){throw n=!0,l}).then(microtaskDelay.call(function(){o.never(),e()}),microtaskDelay.call(function(r){o(r,l),o(n,!0),e()}))},FailureFinallyError:function(e){var n,l=new Error("Finally error");r.call(Promise.reject(new Error("Some error")),function(){throw n=!0,l}).then(microtaskDelay.call(function(){o.never(),e()}),microtaskDelay.call(function(r){o(r,l),o(n,!0),e()}))}}};