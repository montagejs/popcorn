"use strict";var isValue=require("../object/is-value"),toNaturalNumber=require("../number/to-pos-integer"),generated=Object.create(null),random=Math.random,uniqTryLimit=100,getChunk=function(){return random().toString(36).slice(2)},getString=function(){var e=getChunk(),r=arguments[0];if(!isValue(r))return e;for(;e.length<r;)e+=getChunk();return e.slice(0,r)};module.exports=function(){var e=Object(arguments[0]),r=e.length,t=e.isUnique;isValue(r)&&(r=toNaturalNumber(r));var n=getString(r);if(t){for(var i=0;generated[n];){if(++i===uniqTryLimit)throw new Error("Cannot generate random string.\nString.random is not designed to effectively generate many short and unique random strings");n=getString(r)}generated[n]=!0}return n};